{"version":3,"file":"updatable-custom-elements.esm.js","sources":["../src/updatable-custom-elements.ts"],"sourcesContent":[";(function () {\n  const customElements_define = customElements.define\n  customElements.define = function define (\n    Name:string, Constructor:CustomElementConstructor, Options?:any\n  ):void {\n    if (customElements.get(Name) == null) {                // not yet registered\n      customElements_define.call(customElements, Name,Constructor,Options)\n    } else {                                               // already registered\n      let Class = customElements.get(Name)\n      removePropertiesFrom(Class, protectedFunctionProps)\n      copyPropertiesFrom(Constructor,Class, protectedFunctionProps)\n\n// @ts-ignore \"Class\" exists\n      removePropertiesFrom(Class.prototype, protectedProtoProps)\n// @ts-ignore \"Class\" exists\n      copyPropertiesFrom(Constructor.prototype,Class.prototype, protectedProtoProps)\n    }\n  }\n\n/**** removePropertiesFrom ****/\n\n  const protectedFunctionProps = Object.assign(Object.create(null),{\n    length:true, name:true, prototype:true,\n  })\n\n  const protectedProtoProps = Object.assign(Object.create(null),{\n    constructor:true,\n  })\n\n  function removePropertiesFrom (\n    Candidate:any, protectedProps:any\n  ):void {\n    let staticProperties = Object.getOwnPropertyNames(Candidate)\n    staticProperties.forEach((Name) => {\n      if (! (Name in protectedProps)) {\n        delete Candidate[Name]\n      }\n    })\n  }\n\n/**** copyPropertiesFrom ****/\n\n  function copyPropertiesFrom (\n    Constructor:Function, Candidate:any, protectedProps:any\n  ):void {\n    let staticProperties = Object.getOwnPropertyNames(Constructor)\n    staticProperties.forEach((Name) => {\n      if (! (Name in protectedProps)) {\n        let Descriptor = Object.getOwnPropertyDescriptor(Constructor,Name)\n// @ts-ignore \"Descriptor\" exists\n        Object.defineProperty(Candidate, Name,Descriptor)\n      }\n    })\n  }\n})();"],"names":[],"mappings":"AAAC,CAAC,YAAA;AACA,IAAA,IAAM,qBAAqB,GAAG,cAAc,CAAC,MAAM,CAAA;IACnD,cAAc,CAAC,MAAM,GAAG,SAAS,MAAM,CACrC,IAAW,EAAE,WAAoC,EAAE,OAAY,EAAA;QAE/D,IAAI,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE;YACpC,qBAAqB,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,EAAC,WAAW,EAAC,OAAO,CAAC,CAAA;AACrE,SAAA;AAAM,aAAA;YACL,IAAI,KAAK,GAAG,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA;AACpC,YAAA,oBAAoB,CAAC,KAAK,EAAE,sBAAsB,CAAC,CAAA;AACnD,YAAA,kBAAkB,CAAC,WAAW,EAAC,KAAK,EAAE,sBAAsB,CAAC,CAAA;;AAG7D,YAAA,oBAAoB,CAAC,KAAK,CAAC,SAAS,EAAE,mBAAmB,CAAC,CAAA;;YAE1D,kBAAkB,CAAC,WAAW,CAAC,SAAS,EAAC,KAAK,CAAC,SAAS,EAAE,mBAAmB,CAAC,CAAA;AAC/E,SAAA;AACH,KAAC,CAAA;;AAID,IAAA,IAAM,sBAAsB,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC;QAC/D,MAAM,EAAC,IAAI,EAAE,IAAI,EAAC,IAAI,EAAE,SAAS,EAAC,IAAI;AACvC,KAAA,CAAC,CAAA;AAEF,IAAA,IAAM,mBAAmB,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC;AAC5D,QAAA,WAAW,EAAC,IAAI;AACjB,KAAA,CAAC,CAAA;AAEF,IAAA,SAAS,oBAAoB,CAC3B,SAAa,EAAE,cAAkB,EAAA;QAEjC,IAAI,gBAAgB,GAAG,MAAM,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAA;AAC5D,QAAA,gBAAgB,CAAC,OAAO,CAAC,UAAC,IAAI,EAAA;AAC5B,YAAA,IAAI,EAAG,IAAI,IAAI,cAAc,CAAC,EAAE;AAC9B,gBAAA,OAAO,SAAS,CAAC,IAAI,CAAC,CAAA;AACvB,aAAA;AACH,SAAC,CAAC,CAAA;KACH;;AAID,IAAA,SAAS,kBAAkB,CACzB,WAAoB,EAAE,SAAa,EAAE,cAAkB,EAAA;QAEvD,IAAI,gBAAgB,GAAG,MAAM,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAA;AAC9D,QAAA,gBAAgB,CAAC,OAAO,CAAC,UAAC,IAAI,EAAA;AAC5B,YAAA,IAAI,EAAG,IAAI,IAAI,cAAc,CAAC,EAAE;gBAC9B,IAAI,UAAU,GAAG,MAAM,CAAC,wBAAwB,CAAC,WAAW,EAAC,IAAI,CAAC,CAAA;;gBAElE,MAAM,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,EAAC,UAAU,CAAC,CAAA;AAClD,aAAA;AACH,SAAC,CAAC,CAAA;KACH;AACH,CAAC,GAAG"}