{"version":3,"file":"updatable-custom-elements.js","sources":["../src/updatable-custom-elements.ts"],"sourcesContent":[";(function () {\n  const customElements_define = customElements.define\n  customElements.define = function define (\n    Name:string, Constructor:CustomElementConstructor, Options?:any\n  ):void {\n    if (customElements.get(Name) == null) {                // not yet registered\n      customElements_define.call(customElements, Name,Constructor,Options)\n    } else {                                               // already registered\n      let Class = customElements.get(Name)\n      removePropertiesFrom(Class, protectedFunctionProps)\n      copyPropertiesFrom(Constructor,Class, protectedFunctionProps)\n\n// @ts-ignore \"Class\" exists\n      removePropertiesFrom(Class.prototype, protectedProtoProps)\n// @ts-ignore \"Class\" exists\n      copyPropertiesFrom(Constructor.prototype,Class.prototype, protectedProtoProps)\n    }\n  }\n\n/**** removePropertiesFrom ****/\n\n  const protectedFunctionProps = Object.assign(Object.create(null),{\n    length:true, name:true, prototype:true,\n  })\n\n  const protectedProtoProps = Object.assign(Object.create(null),{\n    constructor:true,\n  })\n\n  function removePropertiesFrom (\n    Candidate:any, protectedProps:any\n  ):void {\n    let staticProperties = Object.getOwnPropertyNames(Candidate)\n    staticProperties.forEach((Name) => {\n      if (! (Name in protectedProps)) {\n        delete Candidate[Name]\n      }\n    })\n  }\n\n/**** copyPropertiesFrom ****/\n\n  function copyPropertiesFrom (\n    Constructor:Function, Candidate:any, protectedProps:any\n  ):void {\n    let staticProperties = Object.getOwnPropertyNames(Constructor)\n    staticProperties.forEach((Name) => {\n      if (! (Name in protectedProps)) {\n        let Descriptor = Object.getOwnPropertyDescriptor(Constructor,Name)\n// @ts-ignore \"Descriptor\" exists\n        Object.defineProperty(Candidate, Name,Descriptor)\n      }\n    })\n  }\n})();"],"names":["customElements_define","customElements","define","Name","Constructor","Options","get","call","Class","removePropertiesFrom","protectedFunctionProps","copyPropertiesFrom","prototype","protectedProtoProps","Object","assign","create","length","name","constructor","Candidate","protectedProps","getOwnPropertyNames","forEach","Descriptor","getOwnPropertyDescriptor","defineProperty"],"mappings":"0BAAC,WACC,MAAMA,EAAwBC,eAAeC,OAC7CD,eAAeC,OAAS,SACtBC,EAAaC,EAAsCC,GAEnD,GAAgC,MAA5BJ,eAAeK,IAAIH,GACrBH,EAAsBO,KAAKN,eAAgBE,EAAKC,EAAYC,OACvD,CACL,IAAIG,EAAQP,eAAeK,IAAIH,GAC/BM,EAAqBD,EAAOE,GAC5BC,EAAmBP,EAAYI,EAAOE,GAGtCD,EAAqBD,EAAMI,UAAWC,GAEtCF,EAAmBP,EAAYQ,UAAUJ,EAAMI,UAAWC,EAC3D,CACH,EAIA,MAAMH,EAAyBI,OAAOC,OAAOD,OAAOE,OAAO,MAAM,CAC/DC,QAAO,EAAMC,MAAK,EAAMN,WAAU,IAG9BC,EAAsBC,OAAOC,OAAOD,OAAOE,OAAO,MAAM,CAC5DG,aAAY,IAGd,SAASV,EACPW,EAAeC,GAEQP,OAAOQ,oBAAoBF,GACjCG,SAASpB,IACjBA,KAAQkB,UACND,EAAUjB,EAClB,GAEJ,CAID,SAASQ,EACPP,EAAsBgB,EAAeC,GAEdP,OAAOQ,oBAAoBlB,GACjCmB,SAASpB,IACxB,KAAOA,KAAQkB,GAAiB,CAC9B,IAAIG,EAAaV,OAAOW,yBAAyBrB,EAAYD,GAE7DW,OAAOY,eAAeN,EAAWjB,EAAKqB,EACvC,IAEJ,CACF,CAtDA"}